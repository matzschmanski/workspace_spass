<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resource Gathering and Management Game</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://steamcommunity-a.akamaihd.net/public/javascript/steamworks_sdk.js"></script>
    <script>
        // Initialize Steam API
        window.onload = function() {
            if (typeof Steamworks !== 'undefined') {
                Steamworks.init();
            } else {
                console.error('Steamworks SDK not loaded');
            }
        };
    </script>
</head>
<body>
    <header>
        <h1>Resource Gathering and Management Game</h1>
    </header>
    <main>
        <section id="resources">
            <h2>Resources</h2>
            <p>Wood: <span id="wood">0</span></p>
            <p>Stone: <span id="stone">0</span></p>
            <p>Gold: <span id="gold">0</span></p>
            <p>Resources per iteration: <span id="resources-per-iteration">0</span></p>
        </section>
        <section id="buildings">
            <h2>Buildings</h2>
            <button onclick="build('sawmill')">Build Sawmill</button>
            <p>Cost: Wood: <span id="sawmill-cost-wood">10</span>, Stone: <span id="sawmill-cost-stone">5</span>, Gold: <span id="sawmill-cost-gold">2</span></p>
            <p>Benefits: Wood: <span id="sawmill-benefit-wood">1</span>, Stone: <span id="sawmill-benefit-stone">0</span>, Gold: <span id="sawmill-benefit-gold">0</span></p>
            <button onclick="build('quarry')">Build Quarry</button>
            <p>Cost: Wood: <span id="quarry-cost-wood">20</span>, Stone: <span id="quarry-cost-stone">10</span>, Gold: <span id="quarry-cost-gold">5</span></p>
            <p>Benefits: Wood: <span id="quarry-benefit-wood">0</span>, Stone: <span id="quarry-benefit-stone">1</span>, Gold: <span id="quarry-benefit-gold">0</span></p>
            <button onclick="build('mine')">Build Mine</button>
            <p>Cost: Wood: <span id="mine-cost-wood">30</span>, Stone: <span id="mine-cost-stone">15</span>, Gold: <span id="mine-cost-gold">10</span></p>
            <p>Benefits: Wood: <span id="mine-benefit-wood">0</span>, Stone: <span id="mine-benefit-stone">0</span>, Gold: <span id="mine-benefit-gold">1</span></p>
        </section>
        <section id="upgrades">
            <h2>Upgrades</h2>
            <button onclick="upgrade('sawmill')">Upgrade Sawmill</button>
            <p>Cost: Wood: <span id="sawmill-upgrade-cost-wood">10</span>, Stone: <span id="sawmill-upgrade-cost-stone">5</span>, Gold: <span id="sawmill-upgrade-cost-gold">2</span></p>
            <p>Benefits: Wood: <span id="sawmill-upgrade-benefit-wood">1</span>, Stone: <span id="sawmill-upgrade-benefit-stone">0</span>, Gold: <span id="sawmill-upgrade-benefit-gold">0</span></p>
            <button onclick="upgrade('quarry')">Upgrade Quarry</button>
            <p>Cost: Wood: <span id="quarry-upgrade-cost-wood">20</span>, Stone: <span id="quarry-upgrade-cost-stone">10</span>, Gold: <span id="quarry-upgrade-cost-gold">5</span></p>
            <p>Benefits: Wood: <span id="quarry-upgrade-benefit-wood">0</span>, Stone: <span id="quarry-upgrade-benefit-stone">1</span>, Gold: <span id="quarry-upgrade-benefit-gold">0</span></p>
            <button onclick="upgrade('mine')">Upgrade Mine</button>
            <p>Cost: Wood: <span id="mine-upgrade-cost-wood">30</span>, Stone: <span id="mine-upgrade-cost-stone">15</span>, Gold: <span id="mine-upgrade-cost-gold">10</span></p>
            <p>Benefits: Wood: <span id="mine-upgrade-benefit-wood">0</span>, Stone: <span id="mine-upgrade-benefit-stone">0</span>, Gold: <span id="mine-upgrade-benefit-gold">1</span></p>
        </section>
        <section id="quests">
            <h2>Quests</h2>
            <ul id="quest-list">
                <!-- Quest items will be dynamically added here -->
            </ul>
        </section>
        <section id="mini-transactions">
            <h2>Mini Transactions</h2>
            <button onclick="purchaseResources('wood')">Purchase Wood</button>
            <button onclick="purchaseResources('stone')">Purchase Stone</button>
            <button onclick="purchaseResources('gold')">Purchase Gold</button>
        </section>
    </main>
    <div id="custom-message-box" style="display: none;"></div>
    <script>
        function hideMessageBox() {
            document.getElementById('custom-message-box').style.display = 'none';
        }
    </script>
    <script src="script.js"></script>
    <script src="mini-transactions.js"></script>
</body>
</html>
